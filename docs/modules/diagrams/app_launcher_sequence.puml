@startuml AppLauncherSequence
title Protected Cmd+Q flow

actor User as user
participant "hs.hotkey" as hotkey
participant "modules.app_launcher" as launcher
participant "hs.application" as app
participant "hs.timer" as timer
participant "utils.notification_utils" as notification
participant "hs.alert" as alert

autonumber

user -> hotkey: press cmd+q (first time)
hotkey -> launcher: protectedQuitHandler()
launcher -> timer: start 0.5s watchdog
launcher -> notification: announce("app_launcher.cmdq_protection_prompt", payload)
notification -> alert: hs.alert.show(...) (default channel)
alert --> user: reminder toast (configurable)

user -> hotkey: press cmd+q (second time)
hotkey -> launcher: protectedQuitHandler()
launcher -> app: frontmostApplication()
app --> launcher: reference
launcher -> app: kill()
launcher -> timer: stop()
launcher --> user: app terminated without extra toast

note over hotkey, launcher
`hotkey_utils.bind` keeps the hotkey logger descriptive while binding without
the built-in overlay, so only our toast appears at runtime.
end note

@enduml
